(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[94],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return p},kt:function(){return u}});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),d=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},p=function(e){var t=d(e.components);return a.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),m=d(n),u=i,h=m["".concat(s,".").concat(u)]||m[u]||c[u]||o;return n?a.createElement(h,r(r({ref:t},p),{},{components:n})):a.createElement(h,r({ref:t},p))}));function u(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,r=new Array(o);r[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,r[1]=l;for(var d=2;d<o;d++)r[d]=n[d];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},808:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return r},metadata:function(){return l},toc:function(){return s},default:function(){return p}});var a=n(2122),i=n(9756),o=(n(7294),n(3905)),r={sidebar_position:3},l={unversionedId:"api/hooks/use-actions",id:"api/hooks/use-actions",isDocsHomePage:!1,title:"useActions",description:"useActions()",source:"@site/docs/api/hooks/use-actions.md",sourceDirName:"api/hooks",slug:"/api/hooks/use-actions",permalink:"/build-ui/docs/api/hooks/use-actions",editUrl:"https://github.com/LuisMPS/build-ui/tree/main/website/docs/docs/api/hooks/use-actions.md",version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"useBuilder",permalink:"/build-ui/docs/api/hooks/use-builder"},next:{title:"useCollectors",permalink:"/build-ui/docs/api/hooks/use-collector"}},s=[{value:"<code>useActions()</code>",id:"useactions",children:[]}],d={toc:s};function p(e){var t=e.components,n=(0,i.Z)(e,["components"]);return(0,o.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"useactions"},(0,o.kt)("inlineCode",{parentName:"h2"},"useActions()")),(0,o.kt)("h4",{id:"use"},"Use \ud83d\udd27"),(0,o.kt)("p",null,"A React hook that provides a set of actions that are dispatched to the Builder state."),(0,o.kt)("h4",{id:"signature"},"Signature \ud83d\udd8b\ufe0f"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"const actions: Object = useActions();\n")),(0,o.kt)("h4",{id:"example-usage"},"Example Usage \ud83d\udd0d"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-jsx"},"const ComponentView = ({\n    id,\n    ...props\n}) => {\n    const editor = useEditor({\n        id: id,\n    })\n    const actions = useActions();\n    const handleSelect = () => {\n        actions.timeBatched.triggerListIndexAdd({\n            id: id,\n            name: 'selected',\n        });\n        editor.handlePanel(event);\n    }\n    return <DnDBuilder\n        onDrop = {editor.handleDrop}\n        onClick = {handleSelect}\n    >\n        <Component {...props} />\n    </DnDBuilder>\n}\n")),(0,o.kt)("h4",{id:"parameters"},"Parameters \ud83d\udce5"),(0,o.kt)("p",null,"This hooks receives ",(0,o.kt)("strong",{parentName:"p"},"no")," parameters"),(0,o.kt)("h4",{id:"return-value"},"Return Value \ud83d\udce4"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"history: Object"))),(0,o.kt)("p",null,"An object with history action triggers. (See below for list of ",(0,o.kt)("a",{parentName:"p",href:"/docs/api/hooks/use-actions/#history-actions"},"history action triggers"),")."),(0,o.kt)("hr",null),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Before mentioning the rest of return values we'll take a look at how actions can\nbe performed regarding the builder history."),(0,o.kt)("p",{parentName:"div"},"Let's propose a particular scenario: suppose you have a Text Component an you want to update the text displayed through an input. Depending on your use case, you might want one of the following behaviors regarding the builder history and how undo/redo will work: "),(0,o.kt)("ul",{parentName:"div"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Letter changes should be batched according to a time limit. So say, every 3 seconds, the action will be batched to history and undoing/redoing will be done in batches. In Build UI we call this a ",(0,o.kt)("strong",{parentName:"p"},"time batched")," action.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Letter changes should be batched as long as the text input is focused. So we will commit whenever the text input is blurred and the undoing/redoing of the change will be done in a single batch. In Build UI we call this an ",(0,o.kt)("strong",{parentName:"p"},"batched")," action.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Every single letter change should be recorded as an individual history batch, so undoing/redoing will be done for every single letter we typed in. In Build UI we call this an ",(0,o.kt)("strong",{parentName:"p"},"unbatched")," action.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"The change should not be recorded in history, so it will not be undoable/redoable. In Build UI we call this an ",(0,o.kt)("strong",{parentName:"p"},"unrecorded")," action."))))),(0,o.kt)("hr",null),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"timeBatched: Object"))),(0,o.kt)("p",null,"An object with with function properties to execute time batched actions. (See below for list of ",(0,o.kt)("a",{parentName:"p",href:"/docs/api/hooks/use-actions/#actions"},"action triggers"),")."),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"You can configure time batching behavior through ",(0,o.kt)("a",{parentName:"p",href:"/docs/api/components/builder/#props"},"Builder")," Component's props."))),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"Important Note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"By default, all actions supplied by Build UI, such as ",(0,o.kt)("a",{parentName:"p",href:"/docs/api/hooks/use-editor#return-value"},"handlePanel")," to set the panel, ",(0,o.kt)("a",{parentName:"p",href:"/docs/api/hooks/use-editor#return-value"},"handleDrop")," to create nodes are time batched."))),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"batched: Object"))),(0,o.kt)("p",null,"An object with with function properties to execute batched actions. (See below for list of ",(0,o.kt)("a",{parentName:"p",href:"/docs/api/hooks/use-actions/#actions"},"action triggers"),")."),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"You will need to manually flush all batched actions or they will stay in the batch queue\nuntil they are committed. Commit with ",(0,o.kt)("a",{parentName:"p",href:"/docs/api/hooks/use-actions#history-actions"},"history.triggerCommit()"),"."))),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"If there is any time batched action timer running, it will be stopped."))),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"unbatched: Object"))),(0,o.kt)("p",null,"An object with with function properties to execute unbatched actions. (See below for list of ",(0,o.kt)("a",{parentName:"p",href:"/docs/api/hooks/use-actions/#actions"},"action triggers"),")."),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"If there is any time batched timer running, it will be stopped and the batch\nwill be committed along with the batch generated by the action."))),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"unrecorded: Object"))),(0,o.kt)("p",null,"An object with with function properties to execute unrecorded actions. (See below for list of ",(0,o.kt)("a",{parentName:"p",href:"/docs/api/hooks/use-actions/#actions"},"action triggers"),")."),(0,o.kt)("div",{className:"admonition admonition-danger alert alert--danger"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"Be Very Careful!")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Only use unrecorded actions when you are certain that no other future actions will depend on the unrecorded action. Example: creating a node with unrecorded.triggerCreate() and then updating its props.  While this may work at first, undoing and redoing ",(0,o.kt)("strong",{parentName:"p"},"will")," cause errors. "))),(0,o.kt)("h4",{id:"history-actions"},"History Actions \ud83e\uddf0"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"triggerCommit: () => void"))),(0,o.kt)("p",null,"Function to commit pending history batches. "),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"If there is any time batched action timer running, it will be stopped."))),(0,o.kt)("h4",{id:"actions"},"Actions \ud83e\uddf0"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"triggerCreate: (data: Object) => void"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"data: (targetId: String, tree: Tree | Object, position?: int)"))))),(0,o.kt)("p",null,"Creates a new tree that will be a child of node with id equal to targetId.\nThe tree root id will be added to the child ids array at the specified position, or at the\nlast position if not specified. Position can also be negative to indicate\nreverse indexes, counted from last position, such as in ",(0,o.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/splice#syntax"},"Array.splice()")),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Click ",(0,o.kt)("a",{parentName:"p",href:"/docs/api/utility/structures/#definitions"},"Here")," for more information on Tree and how to instantiate one."))),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Example Usage:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"// Lets suppose we're inside\n// a Form View Component.\nconst handleInsertField = () => {\n    const field = item({\n        type: 'TextField'\n    });\n    const tree = branch(field);\n    actions.timeBatched.triggerCreate({\n        targetId: id,\n        node: node,\n    });\n}\n")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("inlineCode",{parentName:"p"},"triggerDelete: (data: Object) => void")),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"data: (id: String)")))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Example Usage:"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"...\n// Lets suppose we're inside\n// a View Component.\nconst handleDelete = () => {\n    actions.timeBatched.triggerDelete({\n        id: id,\n    });\n}\n...\n")),(0,o.kt)("p",null,"Deletes the node (and all of its children) with the specified id from builder state. It also deletes metadata for node with the specified id and removes all indexes set to id."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"triggerMove: (data: Object) => void"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"data: (id: String, targetId: String, position?: int)"))))),(0,o.kt)("p",null,"Moves the node with specified id so that it will be added to the child ids array of targetId. It will be added at the specified position, or at the last position if not specified. Position can also be negative to indicate\nreverse indexes, counted from last position, such as in ",(0,o.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/splice#syntax"},"Array.splice()")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Example Usage:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"// Lets suppose we're inside\n// a View Component.\nconst handleMove = () => {\n    actions.timeBatched.triggerMove({\n        id: id,\n        targetId: targetId,\n        // Insert as first\n        position: 0,\n    });\n}\n")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"triggerShift: (data: Object) => void"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"data: (id: String, absolute?: int, relative?: int)"))))),(0,o.kt)("p",null,"Moves the node with specified id among its siblings. If an absolute position is specified, it will shift to that position. If a relative position is specified, it will shift relative to current position. If both are specified, absolute position takes priority. If none are specified, it will shift to last position. "),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Example Usage:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"// Lets suppose we're inside\n// a View Component.\nconst handleMoveToBack = () => {\n    actions.timeBatched.triggerShift({\n        id: id,\n        // Send to last position\n    });\n}\nconst handleMoveOneBack = () => {\n    actions.timeBatched.triggerShift({\n        id: id,\n        // Send to one position \n        // before\n        relative: -1,\n    });\n}\n")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"triggerUpdate: (data: Object) => void"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"data: (id: String, props: Object)"))))),(0,o.kt)("p",null,"Updates props for node with specified id. Props object will be deep-merged with current\nprops value for node, overriding values if they are found in both objects. "),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Example Usage:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"// Lets suppose we're inside\n// a View Component.\nconst handleUpdate = () => {\n    const props: {\n        nest_1: {\n            nest_2: {\n                nest_3: 10\n            }\n        }\n    };\n    actions.timeBatched.triggerUpdate({\n        id: id,\n        props: props,\n    });\n}\n")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"triggerRewrite: (data: Object) => void"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"data: (id: String, props: Object)"))))),(0,o.kt)("p",null,"Rewrites props for node with specified id, so previous value will be overwritten. Props will be deep-set."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Example Usage:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"// Lets suppose we're inside\n// a View Component.\nconst handleRewrite = () => {\n    const props: {\n        nest_1: {\n            nest_2: {\n                nest_3: 10\n            }\n        }\n    };\n    actions.timeBatched.triggerRewrite({\n        id: id,\n        props: props,\n    });\n}\n")),(0,o.kt)("hr",null),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"Definition")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("ul",{parentName:"div"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("h5",{parentName:"li",id:"metadata"},"Metadata:"),"An object with properties related to a particular node with a\ngiven id (similar to props), but that should not be forwarded to the end component.\nIt will be part of the builder state context. It should be used only when some data\nis used across components related to a particular node. Notice that you should\nfollow React good practices and modularize state.")))),(0,o.kt)("hr",null),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"triggerMetaUpdate: (data: Object) => void"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"data: (id: String, meta: Object)"))))),(0,o.kt)("p",null,"Updates metadata for node with specified id. Meta object will be deep-merged with current\nmetadata for node, overriding values if they are found in both objects."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Example Usage:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"// Lets suppose we're inside\n// a Layer Component.\nconst handleFix = () => {\n    const meta = {\n        fixed: true\n    };\n    actions.timeBatched.triggerMetaUpdate({\n        id: id,\n        meta: meta,\n    });\n}\n")),(0,o.kt)("hr",null),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"Definitions")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("ul",{parentName:"div"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Index"),": a one-to-one relationship between some named index and a node id. ",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Common use case: ",(0,o.kt)("em",{parentName:"li"},"Panel"),"."))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Index List"),": a one-to-many relationship between some named index and many node ids. ",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Common use case: ",(0,o.kt)("em",{parentName:"li"},"Multi-Select"),".")))))),(0,o.kt)("hr",null),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"triggerIndexAdd: (data: Object) => void"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"data: (id: String, name: String)"))))),(0,o.kt)("p",null,"Sets the given id as the given named index."),(0,o.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"Fun Fact")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Remember our ",(0,o.kt)("a",{parentName:"p",href:"/docs/api/hooks/use-editor#return-value"},"handlePanel")," function\nfrom the ",(0,o.kt)("a",{parentName:"p",href:"/docs/api/hooks/use-editor"},"useEditor")," hook? It uses index add internally."))),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Example Usage:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"// Lets suppose we're inside\n// a View Component.\nconst handlePanel = event => {\n    actions.timeBatched.triggerIndexAdd({\n        id: id,\n        name: 'panel'\n    });\n    event.stopPropagation();\n}\n")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"triggerIndexRemove: (data: Object) => void"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"data: (id: String, name: String)"))))),(0,o.kt)("p",null,"Removes the given id as the given named index, in case it is the current\nestablished index relationship."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Example Usage:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"// Lets suppose we're inside\n// a View Component.\nconst handleRemovePanel = event => {\n    actions.timeBatched.triggerIndexRemove({\n        id: id,\n        name: 'panel'\n    });\n    event.stopPropagation();\n}\n")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"triggerIndexToggle: (data: Object) => void"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"data: (id: String, name: String)"))))),(0,o.kt)("p",null,"Toggles the index value relationship, i.e. if the index is currently\nrelated to the passed id, removes it; if it is not, adds it."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Example Usage:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"// Lets suppose we're inside\n// a View Component.\nconst handleTogglePanel = event => {\n    actions.timeBatched.triggerIndexToggle({\n        id: id,\n        name: 'panel'\n    });\n    event.stopPropagation();\n}\n")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"triggerIndexClear: (data: Object) => void"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"data: (name: String)"))))),(0,o.kt)("p",null,"Clears the index relationship, so no id will be related to that named index\nafter the call."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Example Usage:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"// Lets suppose we're inside\n// a View Component.\nconst handleClearPanel = event => {\n    actions.timeBatched.triggerIndexClear({\n        name: 'panel'\n    });\n    event.stopPropagation();\n}\n")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"triggerListIndexAdd: (data: Object) => void"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"data: (id: String, name: String)"))))),(0,o.kt)("p",null,"Adds the given id to the given named list index."),(0,o.kt)("p",null,"(See ",(0,o.kt)("a",{parentName:"p",href:"/docs/api/hooks/use-actions#actions"},"triggerIndexAdd()")," for analogue example usage) "),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"triggerListIndexRemove: (data: Object) => void"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"data: (id: String, name: String)"))))),(0,o.kt)("p",null,"Removes the given id from the given named list index."),(0,o.kt)("p",null,"(See ",(0,o.kt)("a",{parentName:"p",href:"/docs/api/hooks/use-actions#actions"},"triggerIndexRemove()")," for analogue example usage) "),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"triggerListIndexToggle: (data: Object) => void"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"data: (id: String, name: String) "))))),(0,o.kt)("p",null,"Toggles the list index value relationship, i.e. if the list index contains\nthe passed id, it removes it; if it is not, it adds it."),(0,o.kt)("p",null,"(See ",(0,o.kt)("a",{parentName:"p",href:"/docs/api/hooks/use-actions#actions"},"triggerIndexToggle()")," for analogue example usage) "),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"triggerListIndexClear: (data: Object) => void"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"data: (name: String)"))))),(0,o.kt)("p",null,"Clears thelist  index relationship, so no id will be related to that named list index\nafter the call."),(0,o.kt)("p",null,"(See ",(0,o.kt)("a",{parentName:"p",href:"/docs/api/hooks/use-actions#actions"},"triggerIndexClear()")," for analogue example usage)"))}p.isMDXComponent=!0}}]);