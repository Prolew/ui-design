(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[13],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return d},kt:function(){return h}});var o=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var u=o.createContext({}),l=function(e){var t=o.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},d=function(e){var t=l(e.components);return o.createElement(u.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},p=o.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,u=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),p=l(n),h=i,m=p["".concat(u,".").concat(h)]||p[h]||c[h]||r;return n?o.createElement(m,a(a({ref:t},d),{},{components:n})):o.createElement(m,a({ref:t},d))}));function h(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,a=new Array(r);a[0]=p;var s={};for(var u in t)hasOwnProperty.call(t,u)&&(s[u]=t[u]);s.originalType=e,s.mdxType="string"==typeof e?e:i,a[1]=s;for(var l=2;l<r;l++)a[l]=n[l];return o.createElement.apply(null,a)}return o.createElement.apply(null,n)}p.displayName="MDXCreateElement"},3772:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return a},metadata:function(){return s},toc:function(){return u},default:function(){return d}});var o=n(2122),i=n(9756),r=(n(7294),n(3905)),a={sidebar_position:2},s={unversionedId:"tutorials/tutorial",id:"tutorials/tutorial",isDocsHomePage:!1,title:"Tutorial",description:"Build-UI interface consists basically of a set of React Components and Hooks for your website builder. Build-UI sticks to React's way of doing things, so stuff like",source:"@site/docs/tutorials/tutorial.md",sourceDirName:"tutorials",slug:"/tutorials/tutorial",permalink:"/build-ui/docs/tutorials/tutorial",editUrl:"https://github.com/LuisMPS/build-ui/tree/main/website/docs/docs/tutorials/tutorial.md",version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"How To Read",permalink:"/build-ui/docs/tutorials/how-to-read"},next:{title:"How To Read",permalink:"/build-ui/docs/api/how-to-read"}},u=[],l={toc:u};function d(e){var t=e.components,n=(0,i.Z)(e,["components"]);return(0,r.kt)("wrapper",(0,o.Z)({},l,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Build-UI interface consists basically of a set of React Components and Hooks for your website builder. Build-UI sticks to React's way of doing things, so stuff like\ncomposition, modularity and writing declarative code are encouraged."),(0,r.kt)("p",null,"What we're going to be building in this tutorial, is a simple React page builder\nwhere we will be able to drag and drop customizable Counter Components into\nour Website."),(0,r.kt)("p",null,"Let's suppose you have a typical Counter Component. Our counter looks something\nlike this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="/ui/Counter.js"',title:'"/ui/Counter.js"'},"const Counter = ({\n    initialCount = 0,\n    counterText = 'My counter value is:',\n}) => {\n    const [count, setCount] = useState(initialCount);\n    const handleAdd = () => setCount(\n        count => count + 1\n    );\n    const handleSubstract = () => setCount(\n        count => count - 1\n    );\n    return <div>\n        <button onClick = {handleSubstract}>\n            -\n        </button>\n        <span>{counterText} {count}</span>\n        <button onClick = {handleAdd}>\n            +\n        </button>\n    </div>\n}\n")),(0,r.kt)("p",null,"Simple enough, right? A good ol' Counter, nothing new."),(0,r.kt)("p",null,"Now, with Build UI you create some special components named 'View Components', which wrap the components you add to your page. Let's see an example of a view component:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="/ui/CounterView.js"',title:'"/ui/CounterView.js"'},'import {DnDBuilder, useEditor} from "build-ui";\nimport Counter from "./Counter";\n\nconst CounterView = ({\n    id,\n    ...props\n}) => {\n    const editor = useEditor({\n        id: id\n    });\n    return <DnDBuilder\n        onClick = {editor.handlePanel}\n        onDragStart = {editor.handleDragStart}\n        onDragEnd = {editor.handleDragEnd}\n        draggable = {true}\n    >\n        <Counter {...props} />\n    </DnDBuilder>\n}\n')),(0,r.kt)("p",null,"Let's see what's going on here: "),(0,r.kt)("p",null,"As you can see, your view component will be injected with some props: an id and some props that your Counter Component will receive (Don't worry too much about this yet, we will later see more on this). In our view component, we handle the logic needed for the website builder. "),(0,r.kt)("p",null,"Build UI ships with a special hook, called ",(0,r.kt)("a",{parentName:"p",href:"/docs/api/hooks/use-editor"},"useEditor"),", that receives the id prop that you were passed in the component and in return, delivers a bag of useful functions that you can use for your site building logic. Here we defined a draggable view component, which means you can drag the component and drop it elsewhere. We could also define a view component to be a droppable component, where you can drop other components, with the handleDrop function we also receive from the editor."),(0,r.kt)("p",null,"You may have also noticed the ",(0,r.kt)("a",{parentName:"p",href:"/docs/api/components/dnd-builder"},"DnDBuilder")," Component in which we wrapped our Counter. This is a component to which we pass drag-and-drop events. To us, it looks like a good ol' div element. In fact, it does render as a div element. But internally, ",(0,r.kt)("a",{parentName:"p",href:"/docs/api/components/dnd-builder"},"DnDBuilder")," handles all drag and drop operations, including ",(0,r.kt)("em",{parentName:"p"},"Touch Support"),", without us having to worry about its implementation. "),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"There might be some cases where you will not want to wrap your components in a div, but rather, render as the Component (like Counter in this case) with DnD functionality; more info ",(0,r.kt)("a",{parentName:"p",href:"/docs/api/components/dnd-builder#dndbuilderhoc"},"here"),")"))),(0,r.kt)("p",null,"If you look closely, you can also notice that we coded this component to set the current panel whenever it is clicked on. What does this mean? In Build-UI, panels are components where you customize props for a component. Remember the props we were passed in our View Component earlier for our Counter? A panel lets whoever is building the website to modify what gets passed. Let's quickly see what a panel component would look like:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="/ui/CounterPanel.js"',title:'"/ui/CounterPanel.js"'},"import {useEditor} from \"build-ui\"\n\nconst CounterPanel = ({\n    id,\n}) => {\n    const editor = useEditor({\n        id: id\n    });\n    return <div>\n        <input\n            name = 'counterText'\n            value = {editor.props.counterText}\n            onChange = {editor.handleUpdate}\n        />\n    </div>\n}\n")),(0,r.kt)("p",null,"As you can see, the structure is similar: we get passed an id, and we use it in the same useEditor hook. What we extract this time from the hook, are the props that are passed to the view component and a function to update the props from a text input field. Whenever the  update function gets called, it automatically infers it is acting on a text field and updates the prop based on the input's name. With Build UI, it is this easy to create panels to edit your component props!"),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"GOOD NEWS")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"You can use the ",(0,r.kt)("strong",{parentName:"p"},"handleUpdate")," function in any input type and the result will be\nautomatically casted to a proper value. For example, in a checkbox you will get a\ntrue/false value, and in a number field you will get a parsed Number."))),(0,r.kt)("p",null,"But how do you even ",(0,r.kt)("em",{parentName:"p"},"add stuff")," to the site builder? "),(0,r.kt)("p",null,"Build UI offers some useful functions that let us do this, which we will extract from our ",(0,r.kt)("a",{parentName:"p",href:"/docs/api/hooks/use-tools"},"useTools")," hook. Build-UI supports drag and drop operations so you can interact with your site builder in this way:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="/ui/CounterTools.js"',title:'"/ui/CounterTools.js"'},"import {branch, item, useTools, DnDBuilder} from \"build-ui\"\n\nconst CounterTools = () => {\n    const tools = useTools();\n    const handleDragTool = event => {\n        event.stopPropagation();\n        const counterProps = {\n            initialCount: 0,\n            counterText: 'My value is:'\n        };\n        const counter = item({\n            type: 'Counter',\n            props: counterProps\n        })\n        const data = branch(counter);\n        tools.triggerDragStart({\n            data: data,\n        });\n    }\n    return <DnDBuilder\n        onDragStart = {handleDragTool}\n        onDragEnd = {tools.handleDragEnd}\n        draggable = {true}\n    >\n        Counter Drag\n    </DnDBuilder>\n}\n")),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"While it is typical for website editors to add stuff via DnD events, you could customize\nthe behaviour of how stuff is added to the builder. You can add Components in any way\nthat suits your use case with the triggerCreate function from the ",(0,r.kt)("a",{parentName:"p",href:"/docs/api/hooks/use-actions"},"useActions")," hook."))),(0,r.kt)("p",null,"Notice how we used a ",(0,r.kt)("a",{parentName:"p",href:"/docs/api/utility/structures/#branch"},"branch")," and ",(0,r.kt)("a",{parentName:"p",href:"/docs/api/utility/structures/#item"},"item")," functions? Where did this came from and what are they used for? They are a couple of utility function shipped with Build-UI that allow you to define structures of what will be added to the site builder. In this example, we used it in the simplest of ways. This is where you define the type of what will be added to the builder, which should always be a string (most likely the name of your end component, like Counter), and the props your view component will be passed initially."),(0,r.kt)("p",null,"Now, it's time for yet another hook: the useBuilder hook. We promised we had undo-redo logic, serialization and other features. This is where you can find them, as shown:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="/TopBar.js"',title:'"/TopBar.js"'},'import {useBuilder} from "build-ui";\n\nconst TopBar = () => {\n    const builder = useBuilder();\n    const {\n        canUndo,\n        canRedo,\n        handleRedo,\n        handleUndo,\n        json,\n        // Replot your workspace\n        // with another tree with this \n        // loading function below.\n        loadTree\n    } = builder;\n    const handleSave = () => {\n        // Maybe let save your work \n        // to a storage service? \n        // Or a database? A file...?\n        console.log(json());\n    }\n    return <div>\n        <button onClick = {handleSave}>\n            Save\n        </button>\n        <button \n            disabled = {!canRedo}\n            onClick = {handleRedo}\n        >\n            Redo\n        </button>\n        <button \n            disabled = {!canUndo}\n            onClick = {handleUndo}\n        >\n            Undo\n        </button>\n    </div>\n}\n')),(0,r.kt)("p",null,"Now, it's time we look at what really glues everything together. It is the ",(0,r.kt)("a",{parentName:"p",href:"/docs/api/components/builder"},"Builder")," Component, in which we will wrap our site builder. "),(0,r.kt)("p",null,"We now have built the panel, view and tool components for our Counter. For the sake of not repeating the process, let's suppose we have done the same for a Section Component of our own. A ",(0,r.kt)("em",{parentName:"p"},"Section")," is simply a div component, with a View Component with logic to allow other components, like our Counter, to be dropped (Remember we said we received the handleDrop function from our useEditor hook). We will kick off our initial website builder with this component where we will be able to drag stuff, such as hundreds of our counters!!"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="/MyBuilder.js"',title:'"/MyBuilder.js"'},"import {useState} from \"react\";\nimport {Builder, Workspace, Panel, branch} from 'build-ui';\nimport {CounterView, CounterPanel, CounterTools} from \"./ui/counter\";\nimport {SectionView} from \"./ui/section\";\nimport TopBar from './TopBar';\n\nconst MyBuilder = () => {\n    const view = {\n        Counter: CounterView,\n        Section: SectionView\n    };\n    const panel = {\n        Counter: CounterPanel,\n    };\n    const section = item({\n        type: 'Section',\n    })\n    const tree = branch(section);\n    return <Builder initialTree = {tree}>\n        <TopBar />\n        <Workspace view = {view}/>\n        <Panel view = {panel} />\n        <CounterTools />\n    </Builder>\n}\n")),(0,r.kt)("p",null,"Remember we used a type string when we created our Counter Tool? We do the same here for our the Section in our initial tree. And as you can probably notice, the view object above uses these type strings as keys, to know that to render to the screen."),(0,r.kt)("p",null,"Et voil\xe0. We have finished creating a very (very) simple page editor where we can drag and drop limitless counters to our page. How cool is that? Well, not much, really \ud83d\ude1b\ud83d\ude05. But we are sure you can come up with, and start building much more interesting page builders \ud83d\ude04."),(0,r.kt)("p",null,"For a much more interesting page builder, go check out our ",(0,r.kt)("a",{parentName:"p",href:"https://luismps.github.io/build-ui/demo"},"demo")," live!"))}d.isMDXComponent=!0}}]);